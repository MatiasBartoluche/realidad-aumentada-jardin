<!DOCTYPE html>

<html lang="es">

    <head>
        <meta charset="UTF-8" />
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <title>Realidad aumentada jardin</title>
        <link rel="stylesheet" href="./css/estilos.css" />

        <script src="./js/script.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        <!-- script para el funcionamiento de a-frame-->
    <!-- script de A-Frame version1 1.0.0 -->
    <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <!-- script de AR.JS con soporte de markers -->
   <!--script src="AR.js-master/aframe/build/aframe-ar.js"></script-->
  <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

    
    </head>

    <body>

<a-scene embedded arjs="debugUIEnabled: true;" vr-mode-ui="enabled:false">



<!--<a-scene embedded arjs="debugUIEnabled: false;" vr-mode-ui="enabled:false">-->

  <a-marker id="marcadorTierra" type="pattern" url="./assets/marker/tierra60.patt" emitevents="true">
    <a-entity id="rotacionTierra" rotation="0 0 0" animation="property: rotation; to: 0 0 360; loop: true; dur: 10000; easing: linear">
      <a-entity id="modeloTierra"
          gltf-model="./assets/model/tierra/scene.gltf"
          scale="2 2 2" position="0 0.5 0" rotation="90 180 0" visible="false">
        </a-entity>
    </a-entity>    
  </a-marker>

  <a-marker id="marcadorLuna" type="pattern" url="./assets/marker/luna60.patt" emitevents="true">
    <a-sphere id="modeloLuna" position="0 0.5 0" radius="0.5" color="blue" visible="false"></a-sphere>
  </a-marker>

  <a-marker id="marcadorSol" type="pattern" url="./assets/marker/sol70.patt" emitevents="true">
    <a-cylinder id="modeloSol" position="0 0.5 0" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
  </a-marker>

  <a-entity camera></a-entity>
</a-scene>

<script>
  const modeloTierra = document.querySelector("#modeloTierra");
  const modeloLuna = document.querySelector("#modeloLuna");
  const modeloSol = document.querySelector("#modeloSol");

  document.querySelector("#marcadorTierra").addEventListener("markerFound", () => {
    console.log("TIERRA detectada");
    modeloTierra.setAttribute("visible", "true");
    modeloLuna.setAttribute("visible", "false");
    modeloSol.setAttribute("visible", "false");
  });

  document.querySelector("#marcadorLuna").addEventListener("markerFound", () => {
    console.log("LUNA detectada");
    modeloLuna.setAttribute("visible", "true");
    modeloTierra.setAttribute("visible", "false");
    modeloSol.setAttribute("visible", "false");
  });

    document.querySelector("#marcadorSol").addEventListener("markerFound", () => {
    console.log("SOL detectada");
    modeloLuna.setAttribute("visible", "false");
    modeloTierra.setAttribute("visible", "false");
    modeloSol.setAttribute("visible", "true");
  });
</script>

    </body>

</html>